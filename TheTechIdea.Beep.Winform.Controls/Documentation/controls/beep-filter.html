<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeepFilter - Beep Controls Documentation</title>
    <link rel="stylesheet" href="../sphinx-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body>
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" onclick="toggleSidebar()">
        <i class="bi bi-list"></i>
    </button>

    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
        <i class="bi bi-sun-fill" id="theme-icon"></i>
    </button>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                <img src="../assets/beep-logo.svg" alt="Beep Controls Logo">
                <div class="logo-text">
                    <h2>Beep Controls</h2>
                    <span class="version">v1.0.164</span>
                </div>
            </div>

            <!-- Search -->
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search documentation..." onkeyup="searchDocs(this.value)">
            </div>

            <nav>
                <ul class="nav-menu">
                    <li><a href="../index.html"><i class="bi bi-house"></i> Home</a></li>
                    <li class="has-submenu">
                        <a href="#"><i class="bi bi-rocket"></i> Getting Started</a>
                        <ul class="submenu">
                            <li><a href="../getting-started/installation.html">Installation Guide</a></li>
                            <li><a href="../getting-started/quick-start.html">Quick Start Tutorial</a></li>
                            <li><a href="../getting-started/theming.html">Theming System</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="#"><i class="bi bi-input-cursor-text"></i> Input Controls</a>
                        <ul class="submenu">
                            <li><a href="beep-button.html">BeepButton</a></li>
                            <li><a href="beep-textbox.html">BeepTextBox</a></li>
                            <li><a href="beep-combobox.html">BeepComboBox</a></li>
                            <li><a href="beep-checkbox.html">BeepCheckBox</a></li>
                            <li><a href="beep-radiobutton.html">BeepRadioButton</a></li>
                            <li><a href="beep-datepicker.html">BeepDatePicker</a></li>
                            <li><a href="beep-numericupdown.html">BeepNumericUpDown</a></li>
                            <li><a href="beep-switch.html">BeepSwitch</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="#"><i class="bi bi-display"></i> Display Controls</a>
                        <ul class="submenu">
                            <li><a href="beep-label.html">BeepLabel</a></li>
                            <li><a href="beep-image.html">BeepImage</a></li>
                            <li><a href="beep-progressbar.html">BeepProgressBar</a></li>
                            <li><a href="beep-shape.html">BeepShape</a></li>
                            <li><a href="beep-starrating.html">BeepStarRating</a></li>
                            <li><a href="beep-marquee.html">BeepMarquee</a></li>
                            <li><a href="beep-testimonial.html">BeepTestimonial</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="#"><i class="bi bi-layout-split"></i> Layout Controls</a>
                        <ul class="submenu">
                            <li><a href="beep-panel.html">BeepPanel</a></li>
                            <li><a href="beep-card.html">BeepCard</a></li>
                            <li><a href="beep-tabcontrol.html">BeepTabs</a></li>
                            <li><a href="beep-accordion.html">BeepAccordionMenu</a></li>
                            <li><a href="beep-multisplitter.html">BeepMultiSplitter</a></li>
                            <li><a href="beep-breadcrumps.html">BeepBreadcrumps</a></li>
                            <li><a href="beep-stepper.html">BeepSteppperBar</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu open">
                        <a href="#"><i class="bi bi-bar-chart"></i> Data Controls</a>
                        <ul class="submenu">
                            <li><a href="beep-grid.html">BeepSimpleGrid</a></li>
                            <li><a href="beep-chart.html">BeepChart</a></li>
                            <li><a href="beep-statcard.html">BeepStatCard</a></li>
                            <li><a href="beep-metrictile.html">BeepMetricTile</a></li>
                            <li><a href="beep-datanavigator.html">BeepDataNavigator</a></li>
                            <li><a href="beep-filter.html" class="active">BeepFilter</a></li>
                            <li><a href="beep-tree.html">BeepTree</a></li>
                            <li><a href="beep-listbox.html">BeepListBox</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="#"><i class="bi bi-tools"></i> Specialized Controls</a>
                        <ul class="submenu">
                            <li><a href="beep-menubar.html">BeepMenuBar</a></li>
                            <li><a href="beep-toolstrip.html">BeepToolStrip</a></li>
                            <li><a href="beep-appbar.html">BeepAppBar</a></li>
                            <li><a href="beep-sidemenu.html">BeepSideMenu</a></li>
                            <li><a href="beep-login.html">BeepLogin</a></li>
                            <li><a href="beep-wizard.html">BeepWizard</a></li>
                            <li><a href="beep-calendar.html">BeepCalendarView</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="#"><i class="bi bi-chat-square"></i> Dialogs & Popups</a>
                        <ul class="submenu">
                            <li><a href="beep-dialogbox.html">BeepDialogBox</a></li>
                            <li><a href="beep-popup.html">BeepPopupForm</a></li>
                            <li><a href="beep-filedialog.html">BeepFileDialog</a></li>
                            <li><a href="beep-wait.html">BeepWait</a></li>
                            <li><a href="beep-splash.html">BeepSplashScreen</a></li>
                        </ul>
                    </li>
                    <li><a href="../api/beep-control-base.html"><i class="bi bi-code-square"></i> API Reference</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <div class="content-wrapper">
                <!-- Breadcrumb -->
                <nav class="breadcrumb-nav">
                    <a href="../index.html">Home</a>
                    <span>›</span>
                    <a href="../index.html#data-controls">Data Controls</a>
                    <span>›</span>
                    <span>BeepFilter</span>
                </nav>

                <!-- Page Header -->
                <div class="page-header">
                    <h1>BeepFilter</h1>
                    <p class="page-subtitle">Advanced data filtering control with visual condition builder and multi-source support</p>
                </div>

                <!-- Table of Contents -->
                <div class="toc">
                    <h3>?? Table of Contents</h3>
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#features">Key Features</a></li>
                        <li><a href="#visual-preview">Visual Preview</a></li>
                        <li><a href="#basic-usage">Basic Usage</a></li>
                        <li><a href="#properties">Properties</a></li>
                        <li><a href="#events">Events</a></li>
                        <li><a href="#methods">Methods</a></li>
                        <li><a href="#examples">Examples</a></li>
                        <li><a href="#theming">Theming</a></li>
                        <li><a href="#best-practices">Best Practices</a></li>
                    </ul>
                </div>

                <!-- Overview -->
                <section id="overview" class="section">
                    <h2>Overview</h2>
                    <p>
                        <strong>BeepFilter</strong> is a powerful data filtering control that provides a visual interface 
                        for building complex filter conditions. It supports multiple data sources including DataTable, 
                        BindingSource, and IList collections, with automatic field detection and type-aware filtering.
                    </p>
                    <p>
                        Built on the <strong>BeepControl</strong> foundation, BeepFilter features dynamic condition 
                        building, logical operators (AND/OR), multiple filter operations, and real-time filtering 
                        capabilities. Perfect for data grids, search interfaces, report builders, and administrative 
                        dashboards requiring sophisticated data filtering.
                    </p>
                </section>

                <!-- Key Features -->
                <section id="features" class="section">
                    <h2>Key Features</h2>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>?? Visual Condition Builder</h3>
                            <p>Intuitive drag-and-drop interface for building complex filter conditions</p>
                        </div>
                        <div class="feature-card">
                            <h3>?? Multi-Source Support</h3>
                            <p>Works with DataTable, BindingSource, IList, and custom data objects</p>
                        </div>
                        <div class="feature-card">
                            <h3>?? Smart Field Detection</h3>
                            <p>Automatic discovery of fields and data types from any data source</p>
                        </div>
                        <div class="feature-card">
                            <h3>? Real-time Filtering</h3>
                            <p>Instant filtering with live preview and automatic refresh</p>
                        </div>
                        <div class="feature-card">
                            <h3>?? Logical Operators</h3>
                            <p>Support for AND/OR logical operators between filter conditions</p>
                        </div>
                        <div class="feature-card">
                            <h3>?? Customizable Operations</h3>
                            <p>Comprehensive set of filter operations with type-specific options</p>
                        </div>
                    </div>
                </section>

                <!-- Visual Preview -->
                <section id="visual-preview" class="section">
                    <h2>Visual Preview</h2>
                    
                    <div class="visual-demo">
                        <div class="filter-control-preview">
                            
                            <!-- Header with Add Button -->
                            <div class="filter-header">
                                <button class="add-condition-btn" title="Add Condition">+</button>
                                <span class="filter-title">Filter Conditions</span>
                            </div>

                            <!-- Filter Conditions -->
                            <div class="filter-conditions">
                                
                                <!-- First Condition -->
                                <div class="filter-condition">
                                    <select class="field-select">
                                        <option selected>CustomerName</option>
                                        <option>OrderDate</option>
                                        <option>Amount</option>
                                        <option>Status</option>
                                    </select>
                                    <select class="operator-select">
                                        <option selected>Contains</option>
                                        <option>Equals</option>
                                        <option>Starts With</option>
                                        <option>Not Equals</option>
                                    </select>
                                    <input type="text" class="value-input" value="John" placeholder="Enter value...">
                                    <button class="remove-condition-btn">×</button>
                                </div>

                                <!-- Logical Operator -->
                                <div class="logical-operator">
                                    <span class="operator-label">AND</span>
                                </div>

                                <!-- Second Condition -->
                                <div class="filter-condition">
                                    <select class="field-select">
                                        <option>CustomerName</option>
                                        <option selected>OrderDate</option>
                                        <option>Amount</option>
                                        <option>Status</option>
                                    </select>
                                    <select class="operator-select">
                                        <option>Greater Than</option>
                                        <option selected>Is Between</option>
                                        <option>Less Than</option>
                                        <option>Equals</option>
                                    </select>
                                    <input type="date" class="value-input" value="2024-01-01">
                                    <input type="date" class="value-input" value="2024-12-31">
                                    <button class="remove-condition-btn">×</button>
                                </div>

                                <!-- Logical Operator -->
                                <div class="logical-operator">
                                    <span class="operator-label">OR</span>
                                </div>

                                <!-- Third Condition -->
                                <div class="filter-condition">
                                    <select class="field-select">
                                        <option>CustomerName</option>
                                        <option>OrderDate</option>
                                        <option selected>Amount</option>
                                        <option>Status</option>
                                    </select>
                                    <select class="operator-select">
                                        <option selected>Greater Than</option>
                                        <option>Less Than</option>
                                        <option>Equals</option>
                                        <option>Between</option>
                                    </select>
                                    <input type="number" class="value-input" value="1000" placeholder="Enter amount...">
                                    <button class="remove-condition-btn">×</button>
                                </div>

                            </div>
                        </div>
                        <p><em>BeepFilter with multiple conditions and logical operators</em></p>
                    </div>

                    <style>
                        .visual-demo {
                            border: 2px dashed var(--color-border-light);
                            border-radius: 8px;
                            padding: 2rem;
                            text-align: center;
                            margin: 1rem 0;
                            background: var(--color-background-secondary);
                        }

                        .filter-control-preview {
                            max-width: 600px;
                            margin: 0 auto;
                            background: var(--color-background);
                            border: 1px solid var(--color-border);
                            border-radius: 8px;
                            overflow: hidden;
                            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                        }

                        .filter-header {
                            background: var(--color-background-secondary);
                            padding: 12px 16px;
                            border-bottom: 1px solid var(--color-border);
                            display: flex;
                            align-items: center;
                            gap: 12px;
                        }

                        .add-condition-btn {
                            width: 24px;
                            height: 24px;
                            border: 1px solid var(--color-border);
                            background: var(--color-brand-primary);
                            color: white;
                            border-radius: 4px;
                            cursor: pointer;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: bold;
                            font-size: 14px;
                        }

                        .add-condition-btn:hover {
                            background: var(--color-brand-dark);
                        }

                        .filter-title {
                            font-weight: 600;
                            color: var(--color-text);
                        }

                        .filter-conditions {
                            padding: 16px;
                            display: flex;
                            flex-direction: column;
                            gap: 12px;
                        }

                        .filter-condition {
                            display: flex;
                            align-items: center;
                            gap: 8px;
                            padding: 12px;
                            background: var(--color-background-secondary);
                            border: 1px solid var(--color-border-light);
                            border-radius: 6px;
                        }

                        .field-select, .operator-select {
                            padding: 6px 8px;
                            border: 1px solid var(--color-border);
                            border-radius: 4px;
                            background: var(--color-background);
                            min-width: 120px;
                            font-size: 13px;
                        }

                        .value-input {
                            padding: 6px 8px;
                            border: 1px solid var(--color-border);
                            border-radius: 4px;
                            background: var(--color-background);
                            flex: 1;
                            min-width: 100px;
                            font-size: 13px;
                        }

                        .remove-condition-btn {
                            width: 24px;
                            height: 24px;
                            border: 1px solid var(--color-border);
                            background: #ff6b6b;
                            color: white;
                            border-radius: 4px;
                            cursor: pointer;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 16px;
                            font-weight: bold;
                        }

                        .remove-condition-btn:hover {
                            background: #ff5252;
                        }

                        .logical-operator {
                            display: flex;
                            justify-content: center;
                            margin: 4px 0;
                        }

                        .operator-label {
                            background: var(--color-brand-primary);
                            color: white;
                            padding: 4px 12px;
                            border-radius: 12px;
                            font-size: 12px;
                            font-weight: 600;
                            text-transform: uppercase;
                        }
                    </style>
                </section>

                <!-- Basic Usage -->
                <section id="basic-usage" class="section">
                    <h2>Basic Usage</h2>
                    
                    <div class="code-example">
                        <h3>Simple Filter Setup</h3>
                        <pre><code class="language-csharp">// Create a filter control
var filter = new BeepFilter
{
    Size = new Size(500, 300),
    Location = new Point(20, 20),
    Dock = DockStyle.Top
};

// Connect to a DataTable
DataTable customersTable = GetCustomersData();
filter.DataSource = customersTable;

// Handle filter changes
filter.FilterChanged += (sender, e) =>
{
    Console.WriteLine($"Filter applied with {e.Conditions.Count} conditions");
    // Refresh your data display here
};

this.Controls.Add(filter);</code></pre>
                    </div>

                    <div class="code-example">
                        <h3>BindingSource Integration</h3>
                        <pre><code class="language-csharp">// Create filter with BindingSource
var filter = new BeepFilter
{
    Size = new Size(600, 250),
    UseMenuForOperandsAndOperators = true
};

// Setup BindingSource
var bindingSource = new BindingSource();
bindingSource.DataSource = ordersDataTable;

// Connect filter to BindingSource
filter.DataSource = bindingSource;

// Auto-apply filtering
filter.FilterChanged += (sender, e) =>
{
    filter.ApplyFilter(); // Automatically applies to DataSource
    UpdateGridDisplay();
};

this.Controls.Add(filter);</code></pre>
                    </div>

                    <div class="code-example">
                        <h3>Custom Object Collection</h3>
                        <pre><code class="language-csharp">// Filter with custom objects
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
    public string Category { get; set; }
    public DateTime CreatedDate { get; set; }
}

// Setup filter
var products = GetProducts(); // List<Product>
var filter = new BeepFilter
{
    DataSource = products,
    Size = new Size(500, 200)
};

filter.FilterChanged += (sender, e) =>
{
    var filteredProducts = ApplyCustomFilter(products, e.Conditions);
    UpdateProductDisplay(filteredProducts);
};

this.Controls.Add(filter);</code></pre>
                    </div>
                </section>

                <!-- Properties -->
                <section id="properties" class="section">
                    <h2>Properties</h2>

                    <h3>Core Properties</h3>
                    <table class="property-table">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Type</th>
                                <th>Default</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>DataSource</code></td>
                                <td>object</td>
                                <td>null</td>
                                <td>Data source to filter (DataTable, BindingSource, IList)</td>
                            </tr>
                            <tr>
                                <td><code>UseMenuForOperandsAndOperators</code></td>
                                <td>bool</td>
                                <td>false</td>
                                <td>Use dropdown menus for operands and operators</td>
                            </tr>
                            <tr>
                                <td><code>Conditions</code></td>
                                <td>List&lt;FilterCondition&gt;</td>
                                <td>-</td>
                                <td>Current filter conditions (read-only)</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Internal Components</h3>
                    <table class="property-table">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>filterPanel</code></td>
                                <td>FlowLayoutPanel</td>
                                <td>Container for filter condition items</td>
                            </tr>
                            <tr>
                                <td><code>filterItems</code></td>
                                <td>List&lt;BeepFilterItem&gt;</td>
                                <td>Collection of individual filter conditions</td>
                            </tr>
                            <tr>
                                <td><code>fieldNames</code></td>
                                <td>List&lt;string&gt;</td>
                                <td>Available field names from data source</td>
                            </tr>
                            <tr>
                                <td><code>fieldTypes</code></td>
                                <td>List&lt;Type&gt;</td>
                                <td>Data types of available fields</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>FilterCondition Structure</h3>
                    <table class="property-table">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>FieldName</code></td>
                                <td>string</td>
                                <td>Name of the field to filter</td>
                            </tr>
                            <tr>
                                <td><code>Operator</code></td>
                                <td>FilterOperator</td>
                                <td>Filter operation (Equals, Contains, etc.)</td>
                            </tr>
                            <tr>
                                <td><code>Value</code></td>
                                <td>object</td>
                                <td>Primary filter value</td>
                            </tr>
                            <tr>
                                <td><code>Value2</code></td>
                                <td>object</td>
                                <td>Secondary value for Between operations</td>
                            </tr>
                            <tr>
                                <td><code>DataType</code></td>
                                <td>Type</td>
                                <td>Data type of the field</td>
                            </tr>
                            <tr>
                                <td><code>LogicalOperator</code></td>
                                <td>FilterLogicalOperator</td>
                                <td>AND/OR logical operator</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Events -->
                <section id="events" class="section">
                    <h2>Events</h2>

                    <table class="property-table">
                        <thead>
                            <tr>
                                <th>Event</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>FilterChanged</code></td>
                                <td>EventHandler&lt;FilterChangedEventArgs&gt;</td>
                                <td>Raised when filter conditions change</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>FilterChangedEventArgs</h3>
                    <table class="property-table">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>Conditions</code></td>
                                <td>List&lt;FilterCondition&gt;</td>
                                <td>Current filter conditions</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Methods -->
                <section id="methods" class="section">
                    <h2>Methods</h2>

                    <h3>Filter Operations</h3>
                    <table class="property-table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Parameters</th>
                                <th>Returns</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>ApplyFilter</code></td>
                                <td>-</td>
                                <td>void</td>
                                <td>Applies current filter to the data source</td>
                            </tr>
                            <tr>
                                <td><code>ClearFilter</code></td>
                                <td>-</td>
                                <td>void</td>
                                <td>Clears all filter conditions and resets view</td>
                            </tr>
                            <tr>
                                <td><code>GenerateAppFilters</code></td>
                                <td>-</td>
                                <td>List&lt;IAppFilter&gt;</td>
                                <td>Converts conditions to IAppFilter objects</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Internal Methods</h3>
                    <table class="property-table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Parameters</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>UpdateFieldsFromDataSource</code></td>
                                <td>-</td>
                                <td>Extracts available fields from the data source</td>
                            </tr>
                            <tr>
                                <td><code>AddNewCondition</code></td>
                                <td>FilterLogicalOperator</td>
                                <td>Adds a new filter condition with specified operator</td>
                            </tr>
                            <tr>
                                <td><code>BuildFilterExpression</code></td>
                                <td>-</td>
                                <td>Builds filter expression string for DataTable</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Available Filter Operators</h3>
                    <ul>
                        <li><strong>Equals</strong> - Exact match</li>
                        <li><strong>NotEquals</strong> - Not equal to value</li>
                        <li><strong>GreaterThan</strong> - Greater than value</li>
                        <li><strong>LessThan</strong> - Less than value</li>
                        <li><strong>Contains</strong> - Contains text (for strings)</li>
                        <li><strong>IsBetween</strong> - Between two values</li>
                    </ul>
                </section>

                <!-- Examples -->
                <section id="examples" class="section">
                    <h2>Examples</h2>

                    <div class="code-example">
                        <h3>Advanced Data Grid Filtering</h3>
                        <pre><code class="language-csharp">public partial class DataGridWithFilter : UserControl
{
    private BeepFilter filter;
    private DataGridView dataGrid;
    private DataTable originalData;
    private BindingSource bindingSource;

    public DataGridWithFilter()
    {
        InitializeComponents();
        SetupFilter();
        LoadData();
    }

    private void InitializeComponents()
    {
        // Create filter control
        filter = new BeepFilter
        {
            Dock = DockStyle.Top,
            Height = 200,
            UseMenuForOperandsAndOperators = true
        };

        // Create data grid
        dataGrid = new DataGridView
        {
            Dock = DockStyle.Fill,
            AutoGenerateColumns = true,
            ReadOnly = true,
            AllowUserToAddRows = false,
            AllowUserToDeleteRows = false
        };

        // Add controls
        this.Controls.Add(filter);
        this.Controls.Add(dataGrid);
    }

    private void SetupFilter()
    {
        filter.FilterChanged += Filter_FilterChanged;
    }

    private void LoadData()
    {
        // Load sample data
        originalData = CreateSampleData();
        bindingSource = new BindingSource { DataSource = originalData };
        
        // Connect filter and grid
        filter.DataSource = bindingSource;
        dataGrid.DataSource = bindingSource;
    }

    private void Filter_FilterChanged(object sender, FilterChangedEventArgs e)
    {
        try
        {
            if (e.Conditions.Count == 0)
            {
                // Clear filter
                originalData.DefaultView.RowFilter = "";
            }
            else
            {
                // Apply filter
                filter.ApplyFilter();
            }
            
            // Update status
            UpdateStatusBar(originalData.DefaultView.Count, originalData.Rows.Count);
        }
        catch (Exception ex)
        {
            MessageBox.Show($"Filter error: {ex.Message}", "Filter Error", 
                MessageBoxButtons.OK, MessageBoxIcon.Warning);
        }
    }

    private DataTable CreateSampleData()
    {
        var table = new DataTable();
        table.Columns.Add("CustomerID", typeof(int));
        table.Columns.Add("CustomerName", typeof(string));
        table.Columns.Add("OrderDate", typeof(DateTime));
        table.Columns.Add("Amount", typeof(decimal));
        table.Columns.Add("Status", typeof(string));
        table.Columns.Add("Country", typeof(string));

        // Add sample rows
        for (int i = 1; i <= 1000; i++)
        {
            table.Rows.Add(
                i,
                $"Customer {i}",
                DateTime.Now.AddDays(-new Random().Next(0, 365)),
                new Random().Next(100, 10000),
                new Random().Next(0, 3) switch 
                { 
                    0 => "Pending", 
                    1 => "Shipped", 
                    _ => "Delivered" 
                },
                new Random().Next(0, 5) switch 
                { 
                    0 => "USA", 
                    1 => "Canada", 
                    2 => "UK", 
                    3 => "Germany", 
                    _ => "France" 
                }
            );
        }

        return table;
    }

    private void UpdateStatusBar(int filtered, int total)
    {
        // Update status information
        var statusLabel = this.Parent?.Controls.OfType<StatusStrip>()
            .FirstOrDefault()?.Items.OfType<ToolStripStatusLabel>()
            .FirstOrDefault();
        
        if (statusLabel != null)
        {
            statusLabel.Text = $"Showing {filtered} of {total} records";
        }
    }
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h3>Custom Filter Implementation</h3>
                        <pre><code class="language-csharp">public class ProductCatalogFilter : UserControl
{
    private BeepFilter filter;
    private FlowLayoutPanel productPanel;
    private List<Product> products;
    private List<Product> filteredProducts;

    public ProductCatalogFilter()
    {
        InitializeComponents();
        LoadProducts();
    }

    private void InitializeComponents()
    {
        this.Size = new Size(800, 600);

        // Filter panel
        filter = new BeepFilter
        {
            Dock = DockStyle.Top,
            Height = 180
        };
        filter.FilterChanged += ApplyProductFilter;

        // Product display panel
        productPanel = new FlowLayoutPanel
        {
            Dock = DockStyle.Fill,
            AutoScroll = true,
            FlowDirection = FlowDirection.LeftToRight,
            WrapContents = true,
            Padding = new Padding(10)
        };

        this.Controls.Add(filter);
        this.Controls.Add(productPanel);
    }

    private void LoadProducts()
    {
        products = GetProductsFromDatabase();
        filter.DataSource = products;
        DisplayProducts(products);
    }

    private void ApplyProductFilter(object sender, FilterChangedEventArgs e)
    {
        if (e.Conditions.Count == 0)
        {
            filteredProducts = products.ToList();
        }
        else
        {
            filteredProducts = ApplyConditions(products, e.Conditions);
        }
        
        DisplayProducts(filteredProducts);
    }

    private List<Product> ApplyConditions(List<Product> source, List<FilterCondition> conditions)
    {
        var query = source.AsQueryable();

        foreach (var condition in conditions)
        {
            switch (condition.FieldName.ToLower())
            {
                case "name":
                    query = ApplyStringCondition(query, p => p.Name, condition);
                    break;
                case "price":
                    query = ApplyNumericCondition(query, p => p.Price, condition);
                    break;
                case "category":
                    query = ApplyStringCondition(query, p => p.Category, condition);
                    break;
                case "instock":
                    query = ApplyBooleanCondition(query, p => p.InStock, condition);
                    break;
                case "createddate":
                    query = ApplyDateCondition(query, p => p.CreatedDate, condition);
                    break;
            }
        }

        return query.ToList();
    }

    private IQueryable<Product> ApplyStringCondition(IQueryable<Product> query, 
        Expression<Func<Product, string>> property, FilterCondition condition)
    {
        var value = condition.Value?.ToString() ?? "";

        return condition.Operator switch
        {
            FilterOperator.Equals => query.Where(CreateEqualsExpression(property, value)),
            FilterOperator.NotEquals => query.Where(CreateNotEqualsExpression(property, value)),
            FilterOperator.Contains => query.Where(CreateContainsExpression(property, value)),
            _ => query
        };
    }

    private IQueryable<Product> ApplyNumericCondition(IQueryable<Product> query, 
        Expression<Func<Product, decimal>> property, FilterCondition condition)
    {
        if (!decimal.TryParse(condition.Value?.ToString(), out decimal value))
            return query;

        return condition.Operator switch
        {
            FilterOperator.Equals => query.Where(p => property.Compile()(p) == value),
            FilterOperator.NotEquals => query.Where(p => property.Compile()(p) != value),
            FilterOperator.GreaterThan => query.Where(p => property.Compile()(p) > value),
            FilterOperator.LessThan => query.Where(p => property.Compile()(p) < value),
            FilterOperator.IsBetween when decimal.TryParse(condition.Value2?.ToString(), out decimal value2) =>
                query.Where(p => property.Compile()(p) >= value && property.Compile()(p) <= value2),
            _ => query
        };
    }

    private void DisplayProducts(List<Product> productsToDisplay)
    {
        productPanel.SuspendLayout();
        productPanel.Controls.Clear();

        foreach (var product in productsToDisplay)
        {
            var productCard = CreateProductCard(product);
            productPanel.Controls.Add(productCard);
        }

        productPanel.ResumeLayout();
        
        // Update count
        this.Text = $"Product Catalog - Showing {productsToDisplay.Count} of {products.Count} products";
    }

    private Control CreateProductCard(Product product)
    {
        var card = new Panel
        {
            Size = new Size(200, 250),
            BorderStyle = BorderStyle.FixedSingle,
            Margin = new Padding(10),
            BackColor = Color.White
        };

        var nameLabel = new Label
        {
            Text = product.Name,
            Font = new Font("Segoe UI", 12, FontStyle.Bold),
            Location = new Point(10, 10),
            Size = new Size(180, 25)
        };

        var priceLabel = new Label
        {
            Text = $"${product.Price:F2}",
            Font = new Font("Segoe UI", 14, FontStyle.Bold),
            ForeColor = Color.Green,
            Location = new Point(10, 40),
            Size = new Size(180, 25)
        };

        var categoryLabel = new Label
        {
            Text = product.Category,
            Location = new Point(10, 70),
            Size = new Size(180, 20)
        };

        var stockLabel = new Label
        {
            Text = product.InStock ? "In Stock" : "Out of Stock",
            ForeColor = product.InStock ? Color.Green : Color.Red,
            Location = new Point(10, 95),
            Size = new Size(180, 20)
        };

        card.Controls.AddRange(new Control[] { nameLabel, priceLabel, categoryLabel, stockLabel });
        return card;
    }
}</code></pre>
                    </div>

                    <div class="code-example">
                        <h3>Filter Export and Import</h3>
                        <pre><code class="language-csharp">public class FilterManager
{
    private BeepFilter filter;

    public FilterManager(BeepFilter filterControl)
    {
        filter = filterControl;
    }

    public string ExportFilterToJson()
    {
        var filterData = new
        {
            Conditions = filter.Conditions.Select(c => new
            {
               FieldName = c.FieldName,
                Operator = c.Operator.ToString(),
                Value = c.Value?.ToString(),
                Value2 = c.Value2?.ToString(),
                DataType = c.DataType.Name,
                LogicalOperator = c.LogicalOperator.ToString()
            }).ToArray(),
            CreatedDate = DateTime.Now,
            Version = "1.0"
        };

        return JsonSerializer.Serialize(filterData, new JsonSerializerOptions 
        { 
            WriteIndented = true 
        });
    }

    public void ImportFilterFromJson(string json)
    {
        try
        {
            var filterData = JsonSerializer.Deserialize<dynamic>(json);
            
            // Clear existing conditions
            filter.ClearFilter();

            // Import conditions
            // Note: This is a simplified example
            // You would need to properly deserialize and recreate FilterCondition objects
            
            MessageBox.Show("Filter imported successfully!", "Import Complete",
                MessageBoxButtons.OK, MessageBoxIcon.Information);
        }
        catch (Exception ex)
        {
            MessageBox.Show($"Error importing filter: {ex.Message}", "Import Error",
                MessageBoxButtons.OK, MessageBoxIcon.Error);
        }
    }

    public void SaveFilterToFile(string filePath)
    {
        var json = ExportFilterToJson();
        File.WriteAllText(filePath, json);
    }

    public void LoadFilterFromFile(string filePath)
    {
        if (File.Exists(filePath))
        {
            var json = File.ReadAllText(filePath);
            ImportFilterFromJson(json);
        }
    }

    public List<IAppFilter> GetAppFilters()
    {
        return filter.GenerateAppFilters();
    }

    public void ApplyAppFilters(List<IAppFilter> appFilters)
    {
        // Convert IAppFilter objects back to FilterConditions
        // and apply them to the filter control
        
        filter.ClearFilter();
        
        foreach (var appFilter in appFilters)
        {
            // Create and add new conditions based on IAppFilter data
            // This would require extending the BeepFilter API
        }
    }
}</code></pre>
                    </div>
                </section>

                <!-- Theming -->
                <section id="theming" class="section">
                    <h2>Theming</h2>
                    
                    <p>BeepFilter provides comprehensive theming with automatic application of theme styles to all child components:</p>

                    <div class="code-example">
                        <h3>Theme Application</h3>
                        <pre><code class="language-csharp">var filter = new BeepFilter
{
    Theme = "DarkTheme",
    UseThemeFont = true
};

// Theme automatically applies to:
// - Filter panel background
// - Condition item controls
// - Dropdown menus and inputs
// - Add/remove buttons

// Manual theme application
filter.ApplyTheme();</code></pre>
                    </div>

                    <h3>Component Theming</h3>
                    <ul>
                        <li><strong>Panel backgrounds</strong> - Background colors from theme</li>
                        <li><strong>BeepFilterItem controls</strong> - Individual condition styling</li>
                        <li><strong>Button colors</strong> - Add/remove button themes</li>
                        <li><strong>Input controls</strong> - ComboBox and TextBox theming</li>
                        <li><strong>Border colors</strong> - Consistent border styling</li>
                    </ul>

                    <div class="code-example">
                        <h3>Custom Styling</h3>
                        <pre><code class="language-csharp">// Apply custom theme after initialization
filter.Theme = "CustomTheme";

// Customize specific components
filter.UseMenuForOperandsAndOperators = true; // Better theme integration

// Apply theme to ensure consistency
filter.ApplyTheme();

// Custom color overrides
filter.BackColor = Color.FromArgb(45, 45, 48); // Dark background
filter.ForeColor = Color.White; // Light text</code></pre>
                    </div>
                </section>

                <!-- Best Practices -->
                <section id="best-practices" class="section">
                    <h2>Best Practices</h2>

                    <h3>?? Data Source Management</h3>
                    <ul>
                        <li><strong>Type consistency:</strong> Ensure data source types are properly detected and handled</li>
                        <li><strong>Field validation:</strong> Validate field names and types before applying filters</li>
                        <li><strong>Performance:</strong> Use indexing and efficient queries for large datasets</li>
                        <li><strong>Memory management:</strong> Dispose of large data sources when no longer needed</li>
                    </ul>

                    <h3>?? User Experience</h3>
                    <ul>
                        <li><strong>Clear operators:</strong> Provide intuitive operator names (Contains vs LIKE)</li>
                        <li><strong>Type-appropriate controls:</strong> Use date pickers for dates, numeric inputs for numbers</li>
                        <li><strong>Real-time feedback:</strong> Show filter results immediately when possible</li>
                        <li><strong>Filter persistence:</strong> Save and restore user filter preferences</li>
                    </ul>

                    <h3>? Performance Optimization</h3>
                    <ul>
                        <li><strong>Debounce updates:</strong> Avoid excessive filtering on every keystroke</li>
                        <li><strong>Efficient expressions:</strong> Build optimized filter expressions for DataTable</li>
                        <li><strong>Lazy evaluation:</strong> Apply filters only when necessary</li>
                        <li><strong>Batch operations:</strong> Group multiple condition changes together</li>
                    </ul>

                    <h3>?? Integration Patterns</h3>
                    <ul>
                        <li><strong>MVC pattern:</strong> Separate filter logic from UI presentation</li>
                        <li><strong>Event handling:</strong> Use FilterChanged event for loose coupling</li>
                        <li><strong>State management:</strong> Maintain filter state across application sessions</li>
                        <li><strong>Validation:</strong> Validate filter conditions before applying</li>
                    </ul>

                    <div class="tip">
                        <strong>?? Design Tip</strong>
                        <p>Place the filter control at the top of your data display for conventional behavior. Users expect filtering controls to be easily accessible and visible.</p>
                    </div>

                    <div class="success">
                        <strong>? Success Pattern</strong>
                        <p>Implement proper error handling for filter operations, especially when working with dynamic data sources or user-generated filter expressions.</p>
                    </div>

                    <div class="warning">
                        <strong>?? Performance Warning</strong>
                        <p>Be cautious with large datasets and complex filter conditions. Consider implementing pagination or server-side filtering for datasets with thousands of records.</p>
                    </div>
                </section>

                <!-- Navigation -->
                <div class="nav-links">
                    <a href="beep-datanavigator.html"><i class="bi bi-arrow-left"></i> BeepDataNavigator</a>
                    <a href="beep-tree.html">BeepTree <i class="bi bi-arrow-right"></i></a>
                </div>

                <!-- Footer -->
                <footer class="documentation-footer">
                    <div class="footer-content">
                        <div class="footer-copyright">
                            <p>&copy; 2024 TheTechIdea - Beep Controls Documentation</p>
                            <p>Supporting .NET 6, 7, 8, and 9 | Windows Forms Applications</p>
                        </div>
                        <div class="footer-links">
                            <a href="../index.html">Home</a>
                            <a href="../getting-started/installation.html">Getting Started</a>
                            <a href="../api/beep-control-base.html">API Reference</a>
                        </div>
                    </div>
                </footer>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const submenus = document.querySelectorAll('.has-submenu > a');
            
            submenus.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const parent = this.parentElement;
                    parent.classList.toggle('open');
                });
            });
        });

        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const currentTheme = body.getAttribute('data-theme');
            
            if (currentTheme === 'dark') {
                body.removeAttribute('data-theme');
                themeIcon.className = 'bi bi-sun-fill';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.className = 'bi bi-moon-fill';
                localStorage.setItem('theme', 'dark');
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                document.getElementById('theme-icon').className = 'bi bi-moon-fill';
            }
        });

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }

        function searchDocs(query) {
            const links = document.querySelectorAll('.nav-menu a');
            const lowerQuery = query.toLowerCase();
            
            links.forEach(link => {
                const text = link.textContent.toLowerCase();
                const listItem = link.closest('li');
                
                if (text.includes(lowerQuery) || lowerQuery === '') {
                    listItem.style.display = '';
                } else {
                    listItem.style.display = 'none';
                }
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('pre code');
            
            codeBlocks.forEach(block => {
                const button = document.createElement('button');
                button.textContent = 'Copy';
                button.style.cssText = `
                    position: absolute;
                    top: 8px;
                    right: 8px;
                    background: var(--color-brand-primary);
                    color: white;
                    border: none;
                    border-radius: 4px;
                    padding: 4px 8px;
                    font-size: 12px;
                    cursor: pointer;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                `;
                
                const pre = block.parentElement;
                pre.style.position = 'relative';
                pre.appendChild(button);
                
                pre.addEventListener('mouseenter', () => {
                    button.style.opacity = '1';
                });
                
                pre.addEventListener('mouseleave', () => {
                    button.style.opacity = '0';
                });
                
                button.addEventListener('click', () => {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        button.textContent = 'Copied!';
                        setTimeout(() => {
                            button.textContent = 'Copy';
                        }, 2000);
                    });
                });
            });
        });
    </script>
</body>

</html>